{% extends "base.jinja" %}

{% block contenu %}
<div class="container mt-5">
    <div class="card shadow-lg border-0">
        <div class="card-header bg-primary text-white text-center">
            <h2 class="mb-0"> Modifier un Service</h2>
        </div>
        <div class="card-body">
            <form method="POST" action="{{ url_for('services.modifier_service', id_service=service.id_service) }}" enctype="multipart/form-data">
                
                <div class="mb-3">
                    <label for="titre" class="form-label fw-bold">Titre</label>
                    <input type="text" class="form-control {{ class_titre }}" id="titre" name="titre" required value="{{ service.titre }}">
                    <div class="invalid-feedback">Veuillez entrer un titre.</div>
                </div>

                <div class="mb-3">
                    <label for="localisation" class="form-label fw-bold">Localisation (ville)</label>
                    <input type="text" class="form-control {{ class_localisation }}" id="localisation" name="localisation" required value="{{ service.localisation }}">
                    <div class="invalid-feedback">Veuillez entrer la localisation.</div>
                </div>

                <div class="mb-3">
                    <label for="description" class="form-label fw-bold">Description</label>
                    <textarea class="form-control {{ class_description }}" id="description" name="description" rows="4" required>{{ service.description }}</textarea>
                    <div class="invalid-feedback">Veuillez entrer une description.</div>
                </div>

                <div class="mb-3">
                    <label for="cout" class="form-label fw-bold">Coût</label>
                    <input type="number" class="form-control {{ class_cout }}" id="cout" name="cout" min="5" step="0.01" required value="{{ service.cout }}">
                    <div class="invalid-feedback">Veuillez entrer un coût valide.</div>
                </div>

                <div class="form-check mb-3">
                    <input class="form-check-input" type="checkbox" id="statut" name="statut" value="1"
                        {% if statut == '1' or statut is none %}checked{% endif %}>
                    <label class="form-check-label fw-bold" for="statut">Actif</label>
                </div>

                <div class="mb-3">
                    <label for="categorie" class="form-label fw-bold">Catégorie</label>
                    <input type="text" class="form-control" id="categorie" name="categorie" value="{{ service.categorie }}" disabled>
                </div>

                <div class="mb-3">
                    <label for="photo" class="form-label fw-bold">Photo</label>
                    <input type="file" class="form-control {{ class_nom_photo }}" id="photo" name="photo">
                    {% if service.photo %}
                        <small class="text-muted">Photo actuelle : {{ service.photo }}</small>
                    {% endif %}
                    <div class="invalid-feedback">Veuillez choisir une image valide.</div>
                </div>

                <div class="text-center">
                    <button type="submit" class="btn btn-success px-4">
                         Enregistrer les modifications
                    </button>
                </div>
            </form>
        </div>
        <div class="card-footer text-muted text-center">
            Dernière mise à jour : {{ service.date_creation }}
        </div>
    </div>
</div>
{% endblock %}
